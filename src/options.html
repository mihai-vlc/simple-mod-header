<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <!-- mobile-friendly -->
        <link rel="stylesheet" type="text/css" href="options.css" />
        <link rel="stylesheet" href="./monaco/monaco.css" />
    </head>

    <body>
        <fieldset class="input-and-buttons">
            <legend>Allowed host permissions</legend>
            <p>
                Specify the JSON-formatted list of allowed host permissions (documentation:
                <a
                    target="_blank"
                    href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions/Permissions#origins"
                    >origins</a
                >).
            </p>
            <textarea id="input-host-permissions" hidden></textarea>
            <div class="editor-main-wrapper">
                <div class="editor-toolbar"></div>
                <div
                    class="editor-container js-editor"
                    data-file-name="host-permission.json"
                    data-value-target="#input-host-permissions"
                    data-save-target="#grant-host-permissions"
                ></div>
                <div class="js-dragbar dragbar" title="resize panel"></div>
                <div class="editor-status-bar">
                    <label class="vim-mode-label">
                        <input
                            type="checkbox"
                            class="vim-mode-checkbox js-vim-mode"
                            name="vim-mode-host"
                        />
                        VIM
                    </label>
                    <div class="js-vim-status-bar"></div>
                    <output id="status-host-permissions"></output>
                </div>
            </div>
            <button class="app-button" id="grant-host-permissions">Grant host permissions</button>
            <button class="app-button" id="reset-host-permissions">Reset host permissions</button>
        </fieldset>

        <fieldset class="input-and-buttons">
            <legend>Dynamic declarativeNetRequest rules (persists across restarts)</legend>
            <p>
                Specify the JSON-formatted list of dynamic DNR rules (documentation:
                <a
                    target="_blank"
                    href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest#rules"
                    >declarativeNetRequest rules</a
                >).
            </p>
            <textarea id="input-dynamic-rules" hidden></textarea>
            <div class="editor-main-wrapper">
                <div
                    class="editor-container js-editor"
                    data-file-name="dynamic-rules.json"
                    data-value-target="#input-dynamic-rules"
                    data-save-target="#save-dynamic-rules"
                ></div>
                <div class="js-dragbar dragbar" title="resize panel"></div>
                <div class="editor-status-bar">
                    <label class="vim-mode-label" for="vim-mode-dynamic">
                        <input
                            type="checkbox"
                            class="vim-mode-checkbox js-vim-mode"
                            name="vim-mode-dynamic"
                            id="vim-mode-dynamic"
                        />
                        VIM
                    </label>
                    <div class="js-vim-status-bar"></div>
                    <select class="js-snippets-list snippets-list">
                        <option value="">-- Snippet --</option>
                    </select>
                    <output id="status-dynamic-rules"></output>
                </div>
            </div>
            <button class="app-button" id="save-dynamic-rules">Save</button>
        </fieldset>

        <fieldset class="input-and-buttons">
            <legend>
                Session-scoped declarativeNetRequest rules (cleared on extension unload/reload)
            </legend>
            <p>
                Specify the JSON-formatted list of session DNR rules (documentation:
                <a
                    target="_blank"
                    href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest#rules"
                    >declarativeNetRequest rules</a
                >).
            </p>
            <textarea id="input-session-rules" hidden></textarea>
            <div class="editor-main-wrapper">
                <div
                    class="editor-container js-editor"
                    data-file-name="session-rules.json"
                    data-value-target="#input-session-rules"
                    data-save-target="#save-session-rules"
                ></div>
                <div class="js-dragbar dragbar" title="resize panel"></div>
                <div class="editor-status-bar">
                    <label class="vim-mode-label" for="vim-mode-session">
                        <input
                            type="checkbox"
                            class="vim-mode-checkbox js-vim-mode"
                            name="vim-mode-session"
                            id="vim-mode-session"
                        />
                        VIM
                    </label>
                    <div class="js-vim-status-bar"></div>
                    <select class="js-snippets-list snippets-list">
                        <option value="">-- Snippet --</option>
                    </select>
                    <output id="status-session-rules"></output>
                </div>
            </div>
            <button class="app-button" id="save-session-rules">Save</button>
        </fieldset>

        <script type="module" src="./monaco/monaco.js"></script>
        <script src="options.js"></script>
    </body>
</html>
